<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>timeschedule_demo</title>

    <!-- Bootstrap css-->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
   
   	<!--Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <!-- Propeller css -->
    <link href="{{ url_for('static', path='/pmd-1.3.2/dist/css/propeller.min.css') }}"" rel="stylesheet">

    <!-- datetimepicker css -->
    <link href="{{ url_for('static', path='/propellerkit-datetimepicker/css/bootstrap-datetimepicker.css') }}"" rel="stylesheet">
    <link href="{{ url_for('static', path='/propellerkit-datetimepicker/css/pmd-datetimepicker.css') }}"" rel="stylesheet">
  </head>
  
  <body>
    <h1>スケジュール</h1>

    <input type="date" name="date" id="datepicker" value="{{ day }}">

    <div class="pmd-card pmd-z-depth">
        <div class="table-responsive"> 
            <table cellspacing="0" cellpadding="0" class="table pmd-table" id="table-propeller">
                <thead>
                    <tr>
                        <th>名前</th>
                        <th>開始日時</th>
                        <th>終了日時</th>
                    </tr>
                </thead>
                <tbody>
                    {% for schedule in schedules %}
                        <tr>
                            <td data-title="Name"> {{ schedule.name }} </td>
                            <td data-title="datetime_start">{{ schedule.datetime_start }}</td>
                            <td data-title="datetime_end">{{ schedule.datetime_end }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- Default raised circle button with ripple effect -->
    <button onclick="location.href='/add'" class="btn pmd-btn-fab pmd-btn-raised pmd-ripple-effect btn-primary" type="button">
        <i class="material-icons pmd-sm">add</i>
    </button>

    <!-- jQuery before Propeller.js -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', path='/pmd-1.3.2/dist/js/propeller.min.js') }}"></script>
    <!-- Propeller textfield js --> 
    <script type="text/javascript" src="http://propeller.in/components/textfield/js/textfield.js"></script>
    <!-- Datepicker moment with locales -->
    <script type="text/javascript" language="javascript" src="http://propeller.in/components/datetimepicker/js/moment-with-locales.js"></script>
    <!-- Propeller Bootstrap datetimepicker -->
    <script type="text/javascript" src="{{ url_for('static', path='/propellerkit-datetimepicker/js/bootstrap-datetimepicker.js') }}"></script>

    <!-- Datepicker -->
    <script type="text/javascript">
        $(function () {
            $('#datetimepicker').datetimepicker({
                'format' : "YYYY-MM-DD",
                // locale: 'jp'
                // 'format' : "YYYY-MM-DD hh:mm:ss", 
                // HH:mm:ss
            })
            $('#datepicker').blur(function(e){
                window.location.href = '?date=' + e.target.value
            });
        });
    </script>
  </body>
</html>